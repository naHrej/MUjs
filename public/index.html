<!-- index.html -->
<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
        <meta charset="UTF-8" />
        <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
        <title>MU*JS</title>
        <!-- Include the style sheet style.css -->
        <link rel="stylesheet/less" type="text/css" href="style.less" />
        <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
        <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/less"></script>
        
</head>

<body>
        <script src="../node_modules/monaco-editor/min/vs/loader.js"></script>
        <div id="appRoot">
                
                <div id="conmgr" v-show="showMgr">
                        <h4>Connection Manager</h4>
                        <div v-for="(site, key) in sites" :key="key">
                                <h5 class="card-title">{{ site.name }}</h5>
                                <div v-if="editingSiteKey === key" class="card mb-3">
                                        <!-- Editable form -->
                                        <div class="details card mb-3">
                                                <ul>
                                                        <li>Name: <input v-model="site.name" type="text"></li>
                                                        <li>Host: <input v-model="site.host" type="text"></li>
                                                        <li>Port: <input v-model="site.port" type="text"></li>
                                                        <li><button @click="saveSite"
                                                                        class="btn btn-primary">Save</button></li>
                                                </ul>
                                        </div>
                                </div>
                                <div v-else class="card mb-3">
                                        <!-- Site details -->

                                        <div class="details">
                                                <p class="card-text">{{ site.host }}:{{ site.port }}
                                                        <button @click="deleteSite(key)"
                                                                class="btn btn-danger">Delete</button>
                                                        <button @click="editSite(key)"
                                                                class="btn btn-secondary">Edit</button>
                                                        <button @click="selectSite(key)"
                                                                class="btn btn-primary">Select</button>
                                                </p>
                                        </div>
                                </div>
                        </div>
                        <button @click="addSite" class="btn btn-success">Add New Site</button>
                </div>
        </div>


        <div id="app" class="flex-container" v-show="showApp">
                <div id="AZUHz3kQsgMj" v-show="showApp">
                </div>
                <div id="resizeHandle" v-show="showApp">
                </div>
                <div class="monaco-editor" id="SdWiqHtqa" @keydown="handleKeydown" v-show="showApp">
                </div>
        </div>

        <script>
                // Example condition: A global variable that indicates if the app is packaged
                // This variable needs to be set before this script runs
                var isPackaged = window.isPackaged || false;
              
                var script = document.createElement('script');

                // check to see if there is a file at https://code.deanpool.net/scripts/editor.js
                // if there is, load that file, otherwise load the local file
                var xhr = new XMLHttpRequest();
                xhr.open('HEAD', 'https://code.deanpool.net/scripts/editor.js', false);
                xhr.send();

        
              
                if (isPackaged && xhr.status === 200) {
                  // If the app is packaged, load the script for the packaged version
                  script.src = "https://code.deanpool.net/scripts/editor.js";
                } else {
                  // If the app is not packaged, load the original script
                  script.src = "editor.js";
                }
              
                document.body.appendChild(script);
              </script>
        <script src="../node_modules/vue/dist/vue.global.js"></script>
        <script src="../src/render/mainRenderer.js"></script>
        <script src="../src/render/conmgr.js"></script>

</body>

</html>